function DetailControl(){}DetailControl.prototype.initSelectTags=function(t,e){var o,a=[],n=[],r=[];for(o=0;o<t.length;o++)"队歌"===t[o].type?a.push(t[o].song):"Solo"===t[o].type?n.push(t[o].song):r.push(t[o].song);var l=$("<option class='not-select'>请选择歌曲</option>"),p=$("<optgroup label='队歌' class='type-team'></optgroup>");for(o=0;o<a.length;o++)p.append("<option>"+a[o]+"</option>");var s=$("<optgroup label='Solo' class='type-solo'></optgroup>");for(o=0;o<n.length;o++)s.append("<option>"+n[o]+"</option>");var c=$("<optgroup label='Unit' class='type-unit'></optgroup>");for(o=0;o<r.length;o++)c.append("<option>"+r[o]+"</option>");for($("#select-bar-song").append(l,p,s,c),$("#select-bar-member").append($("<option class='not-select'>请选择成员</option>")),o=0;o<e.length;o++)$("#select-bar-member").append("<option>"+e[o]+"</option>")},DetailControl.prototype.totalData=function(t,e){$("#total-amount").text(t),$("#total-song").text(e)},DetailControl.prototype.detailTableControl=function(t){for(var e=1;e<=t.length;e++){var o="tr-rank-"+e.toString();if(e%2==1)var a=$("<tr id="+o+" class='tr-rank tr-odd'></tr>");else a=$("<tr id="+o+" class='tr-rank tr-even'></tr>");var n="<a href="+t[e-1].project_url+" target='_blank'>"+t[e-1].project_name+"</a>";a.append("<td class='rank-song'>"+t[e-1].song+"</td>"),a.append("<td class='rank-project-name'>"+n+"</td>"),a.append("<td class='rank-platform'>"+t[e-1].platform+"</td>"),a.append("<td class='rank-amount'>"+t[e-1].amount+"</td>"),a.append("<td class='rank-fan-club'>"+t[e-1].fan_club+"</td>"),a.append("<td class='rank-remark'>"+t[e-1].remark+"</td>"),$("#detail-table-tbody").append(a)}},DetailControl.prototype.selectSongOrMember=function(){var o=this;$("#select-bar-song").change(function(){$("#select-bar-member option:first").prop("selected","selected"),$("tbody").empty(),o.selectedSong=$("#select-bar-song option:selected").text();var t={select_type:"song",select_song:o.selectedSong};$.post("/b50_detail/",t,function(t){var e=$.parseJSON(t.song_data);o.detailTableControl(e)})}),$("#select-bar-member").change(function(){$("#select-bar-song option:first").prop("selected","selected"),$("tbody").empty(),o.selectedMember=$("#select-bar-member option:selected").text();var t={select_type:"member",select_member:o.selectedMember};$.post("/b50_detail/",t,function(t){var e=$.parseJSON(t.data);o.detailTableControl(e)})})},DetailControl.prototype.ajax=function(){var r=this;$.ajax({url:"/b50_detail/",contentType:"application/json",dataType:"json",type:"GET",success:function(t){var e=$.parseJSON(t.total_amount),o=$.parseJSON(t.total_song),a=$.parseJSON(t.song_list),n=$.parseJSON(t.member_list);r.totalData(e,o),r.initSelectTags(a,n)}})},DetailControl.prototype.run=function(){this.ajax(),this.selectSongOrMember()},$(function(){(new DetailControl).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImI1MF9kZXRhaWwuanMiXSwibmFtZXMiOlsiRGV0YWlsQ29udHJvbCIsInByb3RvdHlwZSIsImluaXRTZWxlY3RUYWdzIiwic29uZ0xpc3QiLCJtZW1iZXJMaXN0IiwiaSIsInNvbmdUZWFtU29uZyIsInNvbmdTb2xvIiwic29uZ1VuaXQiLCJsZW5ndGgiLCJwdXNoIiwidGFnRGVmYXVsdE9wdGlvblNvbmciLCIkIiwiJHRhZ1RlYW1Tb25nIiwiYXBwZW5kIiwiJHRhZ1NvbG8iLCIkdGFnVW5pdCIsInRvdGFsRGF0YSIsInRvdGFsQW1vdW50IiwidG90YWxTb25nIiwidGV4dCIsImRldGFpbFRhYmxlQ29udHJvbCIsInNvbmdEYXRhIiwidHJJZCIsInRvU3RyaW5nIiwiJHRyVGVtcCIsImxpbmtUYWciLCJzZWxlY3RTb25nT3JNZW1iZXIiLCJzZWxmIiwidGhpcyIsImNoYW5nZSIsInByb3AiLCJlbXB0eSIsInNlbGVjdGVkU29uZyIsImRhdGEiLCJzZWxlY3RfdHlwZSIsInNlbGVjdF9zb25nIiwicG9zdCIsInBhcnNlSlNPTiIsInNlbGVjdGVkTWVtYmVyIiwic2VsZWN0X21lbWJlciIsImFqYXgiLCJ1cmwiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwidHlwZSIsInN1Y2Nlc3MiLCJydW4iXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLGlCQUtUQSxjQUFjQyxVQUFVQyxlQUFpQixTQUFVQyxFQUFVQyxHQUV6RCxJQUdJQyxFQUhBQyxFQUFlLEdBQ2ZDLEVBQVcsR0FDWEMsRUFBVyxHQUlmLElBQUtILEVBQUUsRUFBR0EsRUFBRUYsRUFBU00sT0FBUUosSUFFRyxPQUF4QkYsRUFBU0UsR0FBUyxLQUNsQkMsRUFBYUksS0FBS1AsRUFBU0UsR0FBUyxNQUdQLFNBQXhCRixFQUFTRSxHQUFTLEtBQ3ZCRSxFQUFTRyxLQUFLUCxFQUFTRSxHQUFTLE1BSWhDRyxFQUFTRSxLQUFLUCxFQUFTRSxHQUFTLE1BTXhDLElBQUlNLEVBQXVCQyxFQUFFLDZDQUV6QkMs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LElBQUloQixFQUFjTixFQUFFMEIsVUFBVUosRUFBbUIsY0FDN0NmLEVBQVlQLEVBQUUwQixVQUFVSixFQUFpQixZQUN6Qy9CLEVBQVdTLEVBQUUwQixVQUFVSixFQUFnQixXQUN2QzlCLEVBQWFRLEVBQUUwQixVQUFVSixFQUFrQixhQUUvQ04sRUFBS1gsVUFBVUMsRUFBYUMsR0FDNUJTLEVBQUsxQixlQUFlQyxFQUFVQyxPQU0xQ0osY0FBY0MsVUFBVThDLElBQU0sV0FDZmxCLEtBQ05ZLE9BRE1aLEtBRU5GLHNCQUlUZixFQUFFLFlBQ3FCLElBQUlaLGVBQ1YrQyIsImZpbGUiOiJiNTBfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5mdW5jdGlvbiBEZXRhaWxDb250cm9sKCkge1xyXG5cclxufVxyXG5cclxuXHJcbkRldGFpbENvbnRyb2wucHJvdG90eXBlLmluaXRTZWxlY3RUYWdzID0gZnVuY3Rpb24gKHNvbmdMaXN0LCBtZW1iZXJMaXN0KSB7XHJcbiAgICAvLyBJbml0aWFsaXplIHNlbGVjdCB0YWcgb2Ygc29uZy5cclxuICAgIHZhciBzb25nVGVhbVNvbmcgPSBbXTtcclxuICAgIHZhciBzb25nU29sbyA9IFtdO1xyXG4gICAgdmFyIHNvbmdVbml0ID0gW107XHJcbiAgICB2YXIgaTtcclxuXHJcbiAgICAvLyBTb25nIGNsYXNzaWZpY2F0aW9uLlxyXG4gICAgZm9yIChpPTA7IGk8c29uZ0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBUZWFtIHNvbmcuXHJcbiAgICAgICAgaWYgKHNvbmdMaXN0W2ldW1widHlwZVwiXSA9PT0gXCLpmJ/mrYxcIikge1xyXG4gICAgICAgICAgICBzb25nVGVhbVNvbmcucHVzaChzb25nTGlzdFtpXVtcInNvbmdcIl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTb2xvLlxyXG4gICAgICAgIGVsc2UgaWYgKHNvbmdMaXN0W2ldW1widHlwZVwiXSA9PT0gXCJTb2xvXCIpIHtcclxuICAgICAgICAgICAgc29uZ1NvbG8ucHVzaChzb25nTGlzdFtpXVtcInNvbmdcIl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVbml0LlxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzb25nVW5pdC5wdXNoKHNvbmdMaXN0W2ldW1wic29uZ1wiXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnN0cnVjdCBzZWxlY3QgZ3JvdXAgb2Ygc29uZy5cclxuICAgIC8vIERlZmF1bHQgb3B0aW9uLlxyXG4gICAgdmFyIHRhZ0RlZmF1bHRPcHRpb25Tb25nID0gJChcIjxvcHRpb24gY2xhc3M9J25vdC1zZWxlY3QnPuivt+mAieaLqeatjOabsjwvb3B0aW9uPlwiKTtcclxuICAgIC8vIFRlYW0gc29uZy5cclxuICAgIHZhciAkdGFnVGVhbVNvbmcgPSAkKFwiPG9wdGdyb3VwIGxhYmVsPSfpmJ/mrYwnIGNsYXNzPSd0eXBlLXRlYW0nPjwvb3B0Z3JvdXA+XCIpO1xyXG4gICAgZm9yIChpPTA7IGk8c29uZ1RlYW1Tb25nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgJHRhZ1RlYW1Tb25nLmFwcGVuZChcIjxvcHRpb24+XCIrc29uZ1RlYW1Tb25nW2ldK1wiPC9vcHRpb24+XCIpO1xyXG4gICAgfVxyXG4gICAgLy8gU29sby5cclxuICAgIHZhciAkdGFnU29sbyA9ICQoXCI8b3B0Z3JvdXAgbGFiZWw9J1NvbG8nIGNsYXNzPSd0eXBlLXNvbG8nPjwvb3B0Z3JvdXA+XCIpO1xyXG4gICAgZm9yIChpPTA7IGk8c29uZ1NvbG8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAkdGFnU29sby5hcHBlbmQoXCI8b3B0aW9uPlwiK3NvbmdTb2xvW2ldK1wiPC9vcHRpb24+XCIpO1xyXG4gICAgfVxyXG4gICAgLy8gVW5pdC5cclxuICAgIHZhciAkdGFnVW5pdCA9ICQoXCI8b3B0Z3JvdXAgbGFiZWw9J1VuaXQnIGNsYXNzPSd0eXBlLXVuaXQnPjwvb3B0Z3JvdXA+XCIpO1xyXG4gICAgZm9yIChpPTA7IGk8c29uZ1VuaXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAkdGFnVW5pdC5hcHBlbmQoXCI8b3B0aW9uPlwiK3NvbmdVbml0W2ldK1wiPC9vcHRpb24+XCIpO1xyXG4gICAgfVxyXG4gICAgLy8gQXBwZW5kIHRvIHNlbGVjdCB0YWcgb2Ygc29uZy5cclxuICAgICQoXCIjc2VsZWN0LWJhci1zb25nXCIpLmFwcGVuZCh0YWdEZWZhdWx0T3B0aW9uU29uZywgJHRhZ1RlYW1Tb25nLCAkdGFnU29sbywgJHRhZ1VuaXQpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgc2VsZWN0IHRhZyBvZiBtZW1iZXIuXHJcbiAgICAkKFwiI3NlbGVjdC1iYXItbWVtYmVyXCIpLmFwcGVuZCgkKFwiPG9wdGlvbiBjbGFzcz0nbm90LXNlbGVjdCc+6K+36YCJ5oup5oiQ5ZGYPC9vcHRpb24+XCIpKTtcclxuICAgIGZvciAoaT0wOyBpPG1lbWJlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAkKFwiI3NlbGVjdC1iYXItbWVtYmVyXCIpLmFwcGVuZChcIjxvcHRpb24+XCIrbWVtYmVyTGlzdFtpXStcIjwvb3B0aW9uPlwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5EZXRhaWxDb250cm9sLnByb3RvdHlwZS50b3RhbERhdGEgPSBmdW5jdGlvbiAodG90YWxBbW91bnQsIHRvdGFsU29uZykge1xyXG4gICAgdmFyIHRvdGFsQW1vdW50U2VsZWN0b3IgPSBcIiN0b3RhbC1hbW91bnRcIjtcclxuICAgIHZhciB0b3RhbFNvbmdTZWxlY3RvciA9IFwiI3RvdGFsLXNvbmdcIjtcclxuXHJcbiAgICAkKHRvdGFsQW1vdW50U2VsZWN0b3IpLnRleHQodG90YWxBbW91bnQpO1xyXG4gICAgJCh0b3RhbFNvbmdTZWxlY3RvcikudGV4dCh0b3RhbFNvbmcpO1xyXG59O1xyXG5cclxuXHJcbkRldGFpbENvbnRyb2wucHJvdG90eXBlLmRldGFpbFRhYmxlQ29udHJvbCA9IGZ1bmN0aW9uIChzb25nRGF0YSkge1xyXG4gICAgZm9yICh2YXIgaT0xOyBpPD1zb25nRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB0cklkID0gXCJ0ci1yYW5rLVwiICsgaS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAvLyB0ciB0YWdzIHN0YXJ0IGhlcmUuXHJcbiAgICAgICAgaWYgKGklMiA9PT0gMSkgeyAgICAvLyBPZGQgcmF3cy5cclxuICAgICAgICAgICAgdmFyICR0clRlbXAgPSAkKFwiPHRyIGlkPVwiK3RySWQrXCIgXCIrXCJjbGFzcz0ndHItcmFuayB0ci1vZGQnXCIrXCI+PC90cj5cIik7XHJcbiAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAvLyBFdmVuIHJhd3MuXHJcbiAgICAgICAgICAgICR0clRlbXAgPSAkKFwiPHRyIGlkPVwiK3RySWQrXCIgXCIrXCJjbGFzcz0ndHItcmFuayB0ci1ldmVuJ1wiK1wiPjwvdHI+XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBlbmQgdGQgdGFncy5cclxuICAgICAgICB2YXIgbGlua1RhZyA9IFwiPGEgaHJlZj1cIitzb25nRGF0YVtpLTFdW1wicHJvamVjdF91cmxcIl0rXCIgdGFyZ2V0PSdfYmxhbmsnXCIrXCI+XCIrc29uZ0RhdGFbaS0xXVtcInByb2plY3RfbmFtZVwiXStcIjwvYT5cIjtcclxuICAgICAgICAvLyAkdHJUZW1wLmFwcGVuZChcIjx0ZCBjbGFzcz0ncmFuay1zb25nJz5cIitzb25nRGF0YVtpLTFdW1wic29uZ1wiXStcIjwvdGQ+XCIpO1xyXG4gICAgICAgICR0clRlbXAuYXBwZW5kKFwiPHRkIGNsYXNzPSdyYW5rLXNvbmcnPlwiK3NvbmdEYXRhW2ktMV1bXCJzb25nXCJdK1wiPC90ZD5cIik7XHJcbiAgICAgICAgJHRyVGVtcC5hcHBlbmQoXCI8dGQgY2xhc3M9J3JhbmstcHJvamVjdC1uYW1lJz5cIitsaW5rVGFnK1wiPC90ZD5cIik7XHJcbiAgICAgICAgJHRyVGVtcC5hcHBlbmQoXCI8dGQgY2xhc3M9J3JhbmstcGxhdGZvcm0nPlwiK3NvbmdEYXRhW2ktMV1bXCJwbGF0Zm9ybVwiXStcIjwvdGQ+XCIpO1xyXG4gICAgICAgICR0clRlbXAuYXBwZW5kKFwiPHRkIGNsYXNzPSdyYW5rLWFtb3VudCc+XCIrc29uZ0RhdGFbaS0xXVtcImFtb3VudFwiXStcIjwvdGQ+XCIpO1xyXG4gICAgICAgICR0clRlbXAuYXBwZW5kKFwiPHRkIGNsYXNzPSdyYW5rLWZhbi1jbHViJz5cIitzb25nRGF0YVtpLTFdW1wiZmFuX2NsdWJcIl0rXCI8L3RkPlwiKTtcclxuICAgICAgICAkdHJUZW1wLmFwcGVuZChcIjx0ZCBjbGFzcz0ncmFuay1yZW1hcmsnPlwiK3NvbmdEYXRhW2ktMV1bXCJyZW1hcmtcIl0rXCI8L3RkPlwiKTtcclxuICAgICAgICAvLyBBcHBlbmQgdG8gdGJvZHkuXHJcbiAgICAgICAgJChcIiNkZXRhaWwtdGFibGUtdGJvZHlcIikuYXBwZW5kKCR0clRlbXApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcblxyXG5EZXRhaWxDb250cm9sLnByb3RvdHlwZS5zZWxlY3RTb25nT3JNZW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU2VsZWN0IGEgc29uZy5cclxuICAgICQoXCIjc2VsZWN0LWJhci1zb25nXCIpLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gUmVzZXQgc2VsZWN0IHRhZyBvZiBtZW1iZXIuXHJcbiAgICAgICAgJChcIiNzZWxlY3QtYmFyLW1lbWJlciBvcHRpb246Zmlyc3RcIikucHJvcChcInNlbGVjdGVkXCIsIFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgLy8gQ2xlYXIgb2xkIHRyIHRhZ3MuXHJcbiAgICAgICAgJChcInRib2R5XCIpLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIC8vIFNlbGVjdCBhIHNvbmcgZnJvbSBtZW51LlxyXG4gICAgICAgIHNlbGYuc2VsZWN0ZWRTb25nID0gJChcIiNzZWxlY3QtYmFyLXNvbmcgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKTtcclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgXCJzZWxlY3RfdHlwZVwiOiBcInNvbmdcIixcclxuICAgICAgICAgICAgXCJzZWxlY3Rfc29uZ1wiOiBzZWxmLnNlbGVjdGVkU29uZ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gUG9zdCBzZWxlY3RlZCBzb25nIHRvIHNlcnZlci5cclxuICAgICAgICAkLnBvc3QoXHJcbiAgICAgICAgICAgIFwiL2I1MF9kZXRhaWwvXCIsICAgICAvLyB1cmwuXHJcbiAgICAgICAgICAgIGRhdGEsICAgICAgICAgICAgICAgLy8gUG9zdCBkYXRhLCBtdXN0IGJlIGEgZGljdGlvbmFyeS5cclxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc29uZ0RhdGEgPSAkLnBhcnNlSlNPTihkYXRhW1wic29uZ19kYXRhXCJdKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuZGV0YWlsVGFibGVDb250cm9sKHNvbmdEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNlbGVjdCBhIG1lbWJlci5cclxuICAgICQoXCIjc2VsZWN0LWJhci1tZW1iZXJcIikuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBSZXNldCBzZWxlY3QgdGFnIG9mIHNvbmcuXHJcbiAgICAgICAgJChcIiNzZWxlY3QtYmFyLXNvbmcgb3B0aW9uOmZpcnN0XCIpLnByb3AoXCJzZWxlY3RlZFwiLCBcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgIC8vIENsZWFyIG9sZCB0ciB0YWdzLlxyXG4gICAgICAgICQoXCJ0Ym9keVwiKS5lbXB0eSgpO1xyXG5cclxuICAgICAgICAvLyBTZWxlY3QgYSBtZW1iZXIgZnJvbSBtZW51LlxyXG4gICAgICAgIHNlbGYuc2VsZWN0ZWRNZW1iZXIgPSAkKFwiI3NlbGVjdC1iYXItbWVtYmVyIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIFwic2VsZWN0X3R5cGVcIjogXCJtZW1iZXJcIixcclxuICAgICAgICAgICAgXCJzZWxlY3RfbWVtYmVyXCI6IHNlbGYuc2VsZWN0ZWRNZW1iZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFBvc3Qgc2VsZWN0ZWQgbWVtYmVyIHRvIHNlcnZlci5cclxuICAgICAgICAkLnBvc3QoXHJcbiAgICAgICAgICAgIFwiL2I1MF9kZXRhaWwvXCIsICAgICAvLyB1cmwuXHJcbiAgICAgICAgICAgIGRhdGEsICAgICAgICAgICAgICAgLy8gUG9zdCBkYXRhLCBtdXN0IGJlIGEgZGljdGlvbmFyeS5cclxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc29uZ0RhdGEgPSAkLnBhcnNlSlNPTihkYXRhW1wiZGF0YVwiXSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmRldGFpbFRhYmxlQ29udHJvbChzb25nRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5EZXRhaWxDb250cm9sLnByb3RvdHlwZS5hamF4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6ICcvYjUwX2RldGFpbC8nLFxyXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3RhbEFtb3VudCA9ICQucGFyc2VKU09OKGRhdGFbXCJ0b3RhbF9hbW91bnRcIl0pO1xyXG4gICAgICAgICAgICB2YXIgdG90YWxTb25nID0gJC5wYXJzZUpTT04oZGF0YVtcInRvdGFsX3NvbmdcIl0pO1xyXG4gICAgICAgICAgICB2YXIgc29uZ0xpc3QgPSAkLnBhcnNlSlNPTihkYXRhW1wic29uZ19saXN0XCJdKTtcclxuICAgICAgICAgICAgdmFyIG1lbWJlckxpc3QgPSAkLnBhcnNlSlNPTihkYXRhW1wibWVtYmVyX2xpc3RcIl0pO1xyXG5cclxuICAgICAgICAgICAgc2VsZi50b3RhbERhdGEodG90YWxBbW91bnQsIHRvdGFsU29uZyk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5pdFNlbGVjdFRhZ3Moc29uZ0xpc3QsIG1lbWJlckxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbkRldGFpbENvbnRyb2wucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuYWpheCgpO1xyXG4gICAgc2VsZi5zZWxlY3RTb25nT3JNZW1iZXIoKTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIGRldGFpbENvbnRyb2wgPSBuZXcgRGV0YWlsQ29udHJvbCgpO1xyXG4gICBkZXRhaWxDb250cm9sLnJ1bigpO1xyXG59KTtcclxuIl19
